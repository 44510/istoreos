--- a/file.c
+++ b/file.c
@@ -244,7 +244,7 @@ void exfat_truncate(struct inode *inode,
 {
 	struct super_block *sb = inode->i_sb;
 	struct exfat_sb_info *sbi = EXFAT_SB(sb);
-	unsigned int blocksize = i_blocksize(inode);
+	unsigned int blocksize = (1 << inode->i_blkbits);
 	loff_t aligned_size;
 	int err;
 
