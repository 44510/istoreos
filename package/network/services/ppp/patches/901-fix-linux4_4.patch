--- a/pppd/plugins/rp-pppoe/plugin.c
+++ b/pppd/plugins/rp-pppoe/plugin.c
@@ -49,6 +49,11 @@ static char const RCSID[] =
 #include <net/ethernet.h>
 #include <net/if_arp.h>
 #include <linux/ppp_defs.h>
+#if !defined(__GLIBC__)
+/* avoid IPPROTO_TCP redefine */
+#define _LIBC_COMPAT_H
+#define _LINUX_IF_ETHER_H
+#endif
 #include <linux/if_pppox.h>
 
 #ifndef _ROOT_PATH
